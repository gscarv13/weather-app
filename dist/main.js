(()=>{"use strict";var e=function(e){return new Date(1e3*e)};function t(e,t,n){return e.toLocaleString(t,n)}var n=function(e){return Math.round(1.8*e+32).toString()},r=function(e){return localStorage.getItem(e)},o=function(e,t,n,r){var o=document.querySelector(e);localStorage.setItem(e+"Min",Math.round(r.temp.min).toString()),localStorage.setItem(e+"Max",Math.round(r.temp.max).toString()),o.src="https://openweathermap.org/img/wn/"+r.weather[0].icon+".png",t[0].textContent=n,t[2].textContent=Math.round(r.temp.min)+" ~ "+Math.round(r.temp.max)+" ºC"},a=function(e){e.classList.remove("hidden")},u=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function u(e){try{i(r.next(e))}catch(e){a(e)}}function c(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,c)}i((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};var i=document.querySelector(".btn"),l=document.querySelector("#toggleButton");i.addEventListener("click",(function(){!function(n){u(this,void 0,void 0,(function(){var r,i,l,m;return c(this,(function(d){switch(d.label){case 0:return r="https://api.openweathermap.org/data/2.5/weather?q="+n+"&units=metric&lang="+navigator.language+"&appid=ebe2305c30c57f985e0cf559531b323d",[4,fetch(r,{mode:"cors"})];case 1:return[4,d.sent().json()];case 2:return i=d.sent(),l=document.querySelector("#toggleContainer"),m=document.querySelector(".today"),localStorage.setItem("unit","c"),g=i.dt,h=navigator.language,p=document.querySelector(".date-info"),f=t(e(g),h,{year:"numeric",month:"long",day:"numeric",weekday:"long"}),p.textContent=f,function(n,r){var o=document.querySelector(".time"),a=t(e(n),r,{hour:"numeric",minute:"numeric"});o.textContent=a}(i.dt,navigator.language),function(e,t,n,r){var o=document.querySelector(".place"),a=Math.round(n);o.textContent=e+", "+t;var u=document.querySelector(".temp");localStorage.setItem("todayTemp",a.toString()),u.textContent=a+" ºC",document.querySelector("#weatherImg").src="https://openweathermap.org/img/wn/"+r.icon+"@4x.png",document.querySelector(".details").textContent=r.description}(i.name,i.sys.country,i.main.temp,i.weather[0]),s=i.wind.speed,y=i.main,document.querySelector(".wind").textContent="Wind: "+s+" m/s",document.querySelector(".humidity").textContent="Humidity: "+y.humidity+" %",document.querySelector(".pressure").textContent="Pressure: "+y.pressure+" hPa",a(l),a(m),function(n){u(this,void 0,void 0,(function(){var r,a,u,i,l,m,d,s,y,g;return c(this,(function(c){switch(c.label){case 0:return r="https://api.openweathermap.org/data/2.5/onecall?lat="+n.lat+"&lon="+n.lon+"&units=metric&exclude=hourly,minutely&appid=ebe2305c30c57f985e0cf559531b323d",[4,fetch(r,{mode:"cors"})];case 1:return[4,c.sent().json()];case 2:return a=c.sent(),u=a.daily.slice(0,3),i=document.querySelector(".tomorrow").children,l=document.querySelector(".nextday1").children,m=document.querySelector(".nextday2").children,o("#tomorrowImg",i,"Tomorrow",u[0]),d=e(u[1].dt),s=t(d,navigator.language,{weekday:"long"}),o("#nextday1Img",l,s,u[1]),y=e(u[2].dt),g=t(y,navigator.language,{weekday:"long"}),o("#nextday2Img",m,g,u[2]),[2]}}))}))}(i.coord),[2]}var s,y,g,h,p,f}))}))}(document.querySelector("#search").value)})),l.addEventListener("click",(function(){var e,t,o,a,u,c,i,l,m,d,s;e=document.querySelector(".temp"),t=document.querySelector("#tMinMax"),o=document.querySelector("#n1MinMax"),a=document.querySelector("#n2MinMax"),u=r("todayTemp"),c=r("#tomorrowImgMin"),i=r("#tomorrowImgMax"),l=r("#nextday1ImgMin"),m=r("#nextday1ImgMax"),d=r("#nextday2ImgMin"),s=r("#nextday2ImgMax"),"c"===r("unit")?(localStorage.setItem("unit","f"),e.textContent=n(Number(u))+" ºF",t.textContent=n(Number(c))+" ~ "+n(Number(i))+" ºF",o.textContent=n(Number(l))+" ~ "+n(Number(m))+" ºF",a.textContent=n(Number(d))+" ~ "+n(Number(s))+" ºF"):(localStorage.setItem("unit","c"),e.textContent=u+" ºC",t.textContent=c+" ~ "+c+" ºC",o.textContent=l+" ~ "+m+" ºC",a.textContent=d+" ~ "+s+" ºC")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvc2NyaXB0cy9oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL3NjcmlwdHMvdmlldy50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL3NjcmlwdHMvZmV0Y2gudHMiXSwibmFtZXMiOlsiZ2VuZXJhdGVEYXRlIiwiZGF0ZSIsIkRhdGUiLCJnZW5lcmF0ZURhdGVUaW1lSW5mbyIsImxhbmd1YWdlIiwib3B0aW9ucyIsInRvTG9jYWxlU3RyaW5nIiwiY29udmVydFRvRiIsInRlbXAiLCJNYXRoIiwicm91bmQiLCJ0b1N0cmluZyIsImdldEZyb21TdG9yYWdlIiwia2V5IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIndlYXRoZXJDYXJkIiwiaWQiLCJjb250YWluZXIiLCJkYXkiLCJ3ZWF0aGVyIiwiaW1nIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2V0SXRlbSIsIm1pbiIsIm1heCIsInNyYyIsImljb24iLCJ0ZXh0Q29udGVudCIsImRpc3BsYXlFbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic3VibWl0QnV0dG9uIiwidG9nZ2xlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvY2F0aW9uIiwidXJsIiwibmF2aWdhdG9yIiwiZmV0Y2giLCJtb2RlIiwianNvbiIsImRhdGEiLCJ0b2dnbGVDb250YWluZXIiLCJkZXRhaWxzQ29udGFpbmVyIiwiVU5JWFRpbWUiLCJkdCIsImRhdGVIZWFkZXIiLCJ5ZWFyIiwibW9udGgiLCJ3ZWVrZGF5IiwidGltZUhlYWRlciIsInRpbWUiLCJob3VyIiwibWludXRlIiwiY2l0eSIsImNvdW50cnkiLCJ0ZW1wTm93Iiwid2VhdGhlck9iaiIsInBsYWNlIiwidGVtcENvbnRhaW5lciIsImRlc2NyaXB0aW9uIiwibmFtZSIsInN5cyIsIm1haW4iLCJ3aW5kU3BlZWQiLCJ3aW5kIiwic3BlZWQiLCJ3ZWF0aGVyRGV0YWlscyIsImh1bWlkaXR5IiwicHJlc3N1cmUiLCJsYXQiLCJsb24iLCJuZXh0M2RheXMiLCJkYWlseSIsInNsaWNlIiwidG9tb3Jyb3ciLCJjaGlsZHJlbiIsIm5leHREYXkxIiwibmV4dERheTIiLCJ3ZWVrRGF5MSIsIndlZWtEYXkxSW5mbyIsIndlZWtEYXkyIiwid2Vla0RheTJJbmZvIiwiZ2V0V2VhdGhlck5leHREYXlzIiwiY29vcmQiLCJ2YWx1ZSIsIm1haW5UZW1wIiwidE1pbk1heCIsIm4xTWluTWF4IiwibjJNaW5NYXgiLCJ0b2RheSIsInRtTWluIiwidG1NYXgiLCJuMU1pbiIsIm4xTWF4IiwibjJNaW4iLCJuMk1heCIsIk51bWJlciJdLCJtYXBwaW5ncyI6Im1CQUFBLElBQU1BLEVBQWUsU0FBQ0MsR0FBdUIsV0FBSUMsS0FBWSxJQUFQRCxJQUV0RCxTQUFTRSxFQUFzQkYsRUFBWUcsRUFBa0JDLEdBQzNELE9BQU9KLEVBQUtLLGVBQWVGLEVBQVVDLEdBR3ZDLElBQU1FLEVBQWEsU0FBQ0MsR0FBd0IsT0FBQUMsS0FBS0MsTUFBYSxJQUFQRixFQUFhLElBQUlHLFlBQ2xFQyxFQUFpQixTQUFDQyxHQUF1QixPQUFBQyxhQUFhQyxRQUFRRixJQ29EOURHLEVBQWMsU0FBQ0MsRUFBWUMsRUFBMkJDLEVBQWFDLEdBQ3ZFLElBQU1DLEVBQXdCQyxTQUFTQyxjQUFjTixHQUNyREgsYUFBYVUsUUFBV1AsRUFBRSxNQUFPUixLQUFLQyxNQUFNVSxFQUFRWixLQUFLaUIsS0FBS2QsWUFDOURHLGFBQWFVLFFBQVdQLEVBQUUsTUFBT1IsS0FBS0MsTUFBTVUsRUFBUVosS0FBS2tCLEtBQUtmLFlBQzlEVSxFQUFJTSxJQUFNLHFDQUFxQ1AsRUFBUUEsUUFBUSxHQUFHUSxLQUFJLE9BQ3RFVixFQUFVLEdBQUdXLFlBQWNWLEVBQzNCRCxFQUFVLEdBQUdXLFlBQWlCcEIsS0FBS0MsTUFBTVUsRUFBUVos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TUFDekNILEVBQVM1RCxZQUFpQmlFLEVBQUssTUFBTUMsRUFBSyxNQUMxQ0wsRUFBUzdELFlBQWlCbUUsRUFBSyxNQUFNQyxFQUFLLFciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdlbmVyYXRlRGF0ZSA9IChkYXRlOiBudW1iZXIpOiBEYXRlID0+IG5ldyBEYXRlKGRhdGUgKiAxMDAwKVxuXG5mdW5jdGlvbiBnZW5lcmF0ZURhdGVUaW1lSW5mbyAoZGF0ZTogRGF0ZSwgbGFuZ3VhZ2U6IHN0cmluZywgb3B0aW9uczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOnN0cmluZyB7XG4gIHJldHVybiBkYXRlLnRvTG9jYWxlU3RyaW5nKGxhbmd1YWdlLCBvcHRpb25zKVxufVxuXG5jb25zdCBjb252ZXJ0VG9GID0gKHRlbXA6IG51bWJlcik6c3RyaW5nID0+IE1hdGgucm91bmQodGVtcCAqIDEuOCArIDMyKS50b1N0cmluZygpXG5jb25zdCBnZXRGcm9tU3RvcmFnZSA9IChrZXk6IHN0cmluZyk6c3RyaW5nID0+IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSlcblxuZXhwb3J0IHtcbiAgZ2VuZXJhdGVEYXRlLCBnZW5lcmF0ZURhdGVUaW1lSW5mbywgY29udmVydFRvRiwgZ2V0RnJvbVN0b3JhZ2Vcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmltcG9ydCAqIGFzIGhlbHBlciBmcm9tICcuL2hlbHBlcidcblxuLy8gdHlwZXNcbnR5cGUgZnVsbERhdGVPcHRpb25zID0geyB5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnbG9uZycsIGRheTogJ251bWVyaWMnLCB3ZWVrZGF5OiAnbG9uZycgfTtcbnR5cGUgdGltZU9wdGlvbnMgPSB7IGhvdXI6ICdudW1lcmljJywgbWludXRlOiAnbnVtZXJpYycgfTtcbnR5cGUgd2VhdGhlckRldGFpbHMgPSB7IHByZXNzdXJlOiBudW1iZXIsIGh1bWlkaXR5OiBudW1iZXIgfTtcbnR5cGUgb3B0ID0gUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbnR5cGUgb3B0MiA9IFJlY29yZDxzdHJpbmcsIGFueT5cblxuY29uc3QgY3VycmVudERheURhdGUgPSAoVU5JWFRpbWU6IG51bWJlciwgbGFuZ3VhZ2U6IHN0cmluZyk6dm9pZCA9PiB7XG4gIGNvbnN0IGRhdGVIZWFkZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGUtaW5mbycpXG4gIGNvbnN0IGRhdGVJbmZvOiBEYXRlID0gaGVscGVyLmdlbmVyYXRlRGF0ZShVTklYVGltZSlcbiAgY29uc3Qgb3B0aW9uczogZnVsbERhdGVPcHRpb25zID0ge1xuICAgIHllYXI6ICdudW1lcmljJyxcbiAgICBtb250aDogJ2xvbmcnLFxuICAgIGRheTogJ251bWVyaWMnLFxuICAgIHdlZWtkYXk6ICdsb25nJ1xuICB9XG5cbiAgY29uc3QgZGF0ZTogc3RyaW5nID0gaGVscGVyLmdlbmVyYXRlRGF0ZVRpbWVJbmZvKGRhdGVJbmZvLCBsYW5ndWFnZSwgb3B0aW9ucylcbiAgZGF0ZUhlYWRlci50ZXh0Q29udGVudCA9IGRhdGVcbn1cblxuY29uc3QgY3VycmVudFRpbWUgPSAoVU5JWFRpbWU6IG51bWJlciwgbGFuZ3VhZ2U6IHN0cmluZyk6dm9pZCA9PiB7XG4gIGNvbnN0IHRpbWVIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGltZScpXG4gIGNvbnN0IG9wdGlvbnMgOnRpbWVPcHRpb25zID0geyBob3VyOiAnbnVtZXJpYycsIG1pbnV0ZTogJ251bWVyaWMnIH1cbiAgY29uc3QgZGF0ZTogRGF0ZSA9IGhlbHBlci5nZW5lcmF0ZURhdGUoVU5JWFRpbWUpXG4gIGNvbnN0IHRpbWU6IHN0cmluZyA9IGhlbHBlci5nZW5lcmF0ZURhdGVUaW1lSW5mbyhkYXRlLCBsYW5ndWFnZSwgb3B0aW9ucylcbiAgdGltZUhlYWRlci50ZXh0Q29udGVudCA9IHRpbWVcbn1cblxuY29uc3QgdG9kYXlXZWF0aGVyID0gKGNpdHkgOnN0cmluZywgY291bnRyeTogc3RyaW5nLCB0ZW1wTm93OiBudW1iZXIsIHdlYXRoZXJPYmo6IG9wdCk6dm9pZCA9PiB7XG4gIGNvbnN0IHBsYWNlOiBIVE1MUGFyYWdyYXBoRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZScpXG4gIGNvbnN0IHRlbXA6IG51bWJlciA9IE1hdGgucm91bmQodGVtcE5vdylcbiAgcGxhY2UudGV4dENvbnRlbnQgPSBgJHtjaXR5fSwgJHtjb3VudHJ5fWBcblxuICBjb25zdCB0ZW1wQ29udGFpbmVyOiBIVE1MUGFyYWdyYXBoRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wJylcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZGF5VGVtcCcsIHRlbXAudG9TdHJpbmcoKSlcbiAgdGVtcENvbnRhaW5lci50ZXh0Q29udGVudCA9IGAke3RlbXB9IMK6Q2BcblxuICBjb25zdCBpbWc6IEhUTUxJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd2VhdGhlckltZycpXG4gIGltZy5zcmMgPSBgaHR0cHM6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7d2VhdGhlck9iai5pY29ufUA0eC5wbmdgXG5cbiAgY29uc3QgZGV0YWlsczogSFRNTFBhcmFncmFwaEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGV0YWlscycpXG4gIGRldGFpbHMudGV4dENvbnRlbnQgPSB3ZWF0aGVyT2JqLmRlc2NyaXB0aW9uXG59XG5cbmNvbnN0IHRvZGF5RGV0YWlscyA9ICh3aW5kU3BlZWQgOm51bWJlciwgd2VhdGhlckRldGFpbHM6IHdlYXRoZXJEZXRhaWxzKTp2b2lkID0+IHtcbiAgY29uc3Qgd2luZDogSFRNTFBhcmFncmFwaEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZCcpXG4gIHdpbmQudGV4dENvbnRlbnQgPSBgV2luZDogJHt3aW5kU3BlZWR9IG0vc2BcblxuICBjb25zdCBodW1pZGl0eTogSFRNTFBhcmFncmFwaEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaHVtaWRpdHknKVxuICBodW1pZGl0eS50ZXh0Q29udGVudCA9IGBIdW1pZGl0eTogJHt3ZWF0aGVyRGV0YWlscy5odW1pZGl0eX0gJWBcblxuICBjb25zdCBwcmVzc3VyZTogSFRNTFBhcmFncmFwaEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJlc3N1cmUnKVxuICBwcmVzc3VyZS50ZXh0Q29udGVudCA9IGBQcmVzc3VyZTogJHt3ZWF0aGVyRGV0YWlscy5wcmVzc3VyZX0gaFBhYFxufVxuXG5jb25zdCB3ZWF0aGVyQ2FyZCA9IChpZDogc3RyaW5nLCBjb250YWluZXI6IEhUTUxDb2xsZWN0aW9uLCBkYXk6IHN0cmluZywgd2VhdGhlcjogb3B0Mik6dm9pZCA9PiB7XG4gIGNvbnN0IGltZzogSFRNTEltYWdlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke2lkfU1pbmAsIE1hdGgucm91bmQod2VhdGhlci50ZW1wLm1pbikudG9TdHJpbmcoKSlcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7aWR9TWF4YCwgTWF0aC5yb3VuZCh3ZWF0aGVyLnRlbXAubWF4KS50b1N0cmluZygpKVxuICBpbWcuc3JjID0gYGh0dHBzOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93bi8ke3dlYXRoZXIud2VhdGhlclswXS5pY29ufS5wbmdgXG4gIGNvbnRhaW5lclswXS50ZXh0Q29udGVudCA9IGRheVxuICBjb250YWluZXJbMl0udGV4dENvbnRlbnQgPSBgJHtNYXRoLnJvdW5kKHdlYXRoZXIudGVtcC5taW4pfSB+ICR7TWF0aC5yb3VuZCh3ZWF0aGVyLnRlbXAubWF4KX0gwrpDYFxufVxuXG5jb25zdCB0b2dnbGVVbml0ID0gKCk6dm9pZCA9PiB7XG4gIGNvbnN0IG1haW5UZW1wOiBIVE1MUGFyYWdyYXBoRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wJylcbiAgY29uc3QgdE1pbk1heDogSFRNTFBhcmFncmFwaEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdE1pbk1heCcpXG4gIGNvbnN0IG4xTWluTWF4OiBIVE1MUGFyYWdyYXBoRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuMU1pbk1heCcpXG4gIGNvbnN0IG4yTWluTWF4OiBIVE1MUGFyYWdyYXBoRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuMk1pbk1heCcpXG4gIGNvbnN0IHRvZGF5OiBzdHJpbmcgPSBoZWxwZXIuZ2V0RnJvbVN0b3JhZ2UoJ3RvZGF5VGVtcCcpXG4gIGNvbnN0IHRtTWluOiBzdHJpbmcgPSBoZWxwZXIuZ2V0RnJvbVN0b3JhZ2UoJyN0b21vcnJvd0ltZ01pbicpXG4gIGNvbnN0IHRtTWF4OiBzdHJpbmcgPSBoZWxwZXIuZ2V0RnJvbVN0b3JhZ2UoJyN0b21vcnJvd0ltZ01heCcpXG4gIGNvbnN0IG4xTWluOiBzdHJpbmcgPSBoZWxwZXIuZ2V0RnJvbVN0b3JhZ2UoJyNuZXh0ZGF5MUltZ01pbicpXG4gIGNvbnN0IG4xTWF4OiBzdHJpbmcgPSBoZWxwZXIuZ2V0RnJvbVN0b3JhZ2UoJyNuZXh0ZGF5MUltZ01heCcpXG4gIGNvbnN0IG4yTWluOiBzdHJpbmcgPSBoZWxwZXIuZ2V0RnJvbVN0b3JhZ2UoJyNuZXh0ZGF5MkltZ01pbicpXG4gIGNvbnN0IG4yTWF4OiBzdHJpbmcgPSBoZWxwZXIuZ2V0RnJvbVN0b3JhZ2UoJyNuZXh0ZGF5MkltZ01heCcpXG5cbiAgaWYgKGhlbHBlci5nZXRGcm9tU3RvcmFnZSgndW5pdCcpID09PSAnYycpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndW5pdCcsICdmJylcblxuICAgIG1haW5UZW1wLnRleHRDb250ZW50ID0gYCR7aGVscGVyLmNvbnZlcnRUb0YoTnVtYmVyKHRvZGF5KSl9IMK6RmBcbiAgICB0TWluTWF4LnRleHRDb250ZW50ID0gYCR7aGVscGVyLmNvbnZlcnRUb0YoTnVtYmVyKHRtTWluKSl9IH4gJHtoZWxwZXIuY29udmVydFRvRihOdW1iZXIodG1NYXgpKX0gwrpGYFxuICAgIG4xTWluTWF4LnRleHRDb250ZW50ID0gYCR7aGVscGVyLmNvbnZlcnRUb0YoTnVtYmVyKG4xTWluKSl9IH4gJHtoZWxwZXIuY29udmVydFRvRihOdW1iZXIobjFNYXgpKX0gwrpGYFxuICAgIG4yTWluTWF4LnRleHRDb250ZW50ID0gYCR7aGVscGVyLmNvbnZlcnRUb0YoTnVtYmVyKG4yTWluKSl9IH4gJHtoZWxwZXIuY29udmVydFRvRihOdW1iZXIobjJNYXgpKX0gwrpGYFxuICB9IGVsc2Uge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1bml0JywgJ2MnKVxuXG4gICAgbWFpblRlbXAudGV4dENvbnRlbnQgPSBgJHt0b2RheX0gwrpDYFxuICAgIHRNaW5NYXgudGV4dENvbnRlbnQgPSBgJHt0bU1pbn0gfiAke3RtTWlufSDCukNgXG4gICAgbjFNaW5NYXgudGV4dENvbnRlbnQgPSBgJHtuMU1pbn0gfiAke24xTWF4fSDCukNgXG4gICAgbjJNaW5NYXgudGV4dENvbnRlbnQgPSBgJHtuMk1pbn0gfiAke24yTWF4fSDCukNgXG4gIH1cbn1cblxuY29uc3QgZGlzcGxheUVsZW1lbnQgPSAoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6dm9pZCA9PiB7XG4gIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxufVxuXG5leHBvcnQge1xuICBjdXJyZW50RGF5RGF0ZSwgY3VycmVudFRpbWUsIHRvZGF5V2VhdGhlciwgdG9kYXlEZXRhaWxzLCB3ZWF0aGVyQ2FyZCwgdG9nZ2xlVW5pdCxcbiAgZGlzcGxheUVsZW1lbnRcbn1cbiIsImltcG9ydCAnLi9hc3NldHMvc3R5bGVzaGVldHMvbWFpbi5zY3NzJ1xuaW1wb3J0ICogYXMgQVBJQ2FsbCBmcm9tICcuL3NjcmlwdHMvZmV0Y2gnXG5pbXBvcnQgKiBhcyB2aWV3IGZyb20gJy4vc2NyaXB0cy92aWV3J1xuXG5jb25zdCBzdWJtaXRCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bicpXG5jb25zdCB0b2dnbGU6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9nZ2xlQnV0dG9uJylcblxuc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBzZWFyY2g6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2VhcmNoJylcbiAgQVBJQ2FsbC5nZXRXZWF0aGVyKHNlYXJjaC52YWx1ZSlcbn0pXG5cbnRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgdmlldy50b2dnbGVVbml0KCkgfSlcbiIsImltcG9ydCAqIGFzIHZpZXcgZnJvbSAnLi92aWV3J1xuaW1wb3J0ICogYXMgaGVscGVyIGZyb20gJy4vaGVscGVyJ1xuXG50eXBlIGxvY2F0aW9uID0ge2xhdDogbnVtYmVyLCBsb246IG51bWJlcn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0V2VhdGhlck5leHREYXlzIChsb2NhdGlvbjogbG9jYXRpb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9vbmVjYWxsP2xhdD0ke2xvY2F0aW9uLmxhdH0mbG9uPSR7bG9jYXRpb24ubG9ufSZ1bml0cz1tZXRyaWMmZXhjbHVkZT1ob3VybHksbWludXRlbHkmYXBwaWQ9ZWJlMjMwNWMzMGM1N2Y5ODVlMGNmNTU5NTMxYjMyM2RgXG4gIGNvbnN0IHJlczogUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHsgbW9kZTogJ2NvcnMnIH0pXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG5cbiAgY29uc3QgbmV4dDNkYXlzID0gZGF0YS5kYWlseS5zbGljZSgwLCAzKVxuICBjb25zdCB0b21vcnJvdzogSFRNTENvbGxlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9tb3Jyb3cnKS5jaGlsZHJlblxuICBjb25zdCBuZXh0RGF5MTogSFRNTENvbGxlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV4dGRheTEnKS5jaGlsZHJlblxuICBjb25zdCBuZXh0RGF5MjogSFRNTENvbGxlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV4dGRheTInKS5jaGlsZHJlblxuXG4gIHZpZXcud2VhdGhlckNhcmQoJyN0b21vcnJvd0ltZycsIHRvbW9ycm93LCAnVG9tb3Jyb3cnLCBuZXh0M2RheXNbMF0pXG4gIGNvbnN0IHdlZWtEYXkxOiBEYXRlID0gaGVscGVyLmdlbmVyYXRlRGF0ZShuZXh0M2RheXNbMV0uZHQpXG4gIGNvbnN0IHdlZWtEYXkxSW5mbzogc3RyaW5nID0gaGVscGVyLmdlbmVyYXRlRGF0ZVRpbWVJbmZvKHdlZWtEYXkxLCBuYXZpZ2F0b3IubGFuZ3VhZ2UsIHsgd2Vla2RheTogJ2xvbmcnIH0pXG4gIHZpZXcud2VhdGhlckNhcmQoJyNuZXh0ZGF5MUltZycsIG5leHREYXkxLCB3ZWVrRGF5MUluZm8sIG5leHQzZGF5c1sxXSlcblxuICBjb25zdCB3ZWVrRGF5MjogRGF0ZSA9IGhlbHBlci5nZW5lcmF0ZURhdGUobmV4dDNkYXlzWzJdLmR0KVxuICBjb25zdCB3ZWVrRGF5MkluZm86IHN0cmluZyA9IGhlbHBlci5nZW5lcmF0ZURhdGVUaW1lSW5mbyh3ZWVrRGF5MiwgbmF2aWdhdG9yLmxhbmd1YWdlLCB7IHdlZWtkYXk6ICdsb25nJyB9KVxuICB2aWV3LndlYXRoZXJDYXJkKCcjbmV4dGRheTJJbWcnLCBuZXh0RGF5Miwgd2Vla0RheTJJbmZvLCBuZXh0M2RheXNbMl0pXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFdlYXRoZXIgKGxvY2F0aW9uOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtsb2NhdGlvbn0mdW5pdHM9bWV0cmljJmxhbmc9JHtuYXZpZ2F0b3IubGFuZ3VhZ2V9JmFwcGlkPWViZTIzMDVjMzBjNTdmOTg1ZTBjZjU1OTUzMWIzMjNkYFxuICBjb25zdCByZXM6IFJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7IG1vZGU6ICdjb3JzJyB9KVxuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuXG4gIGNvbnN0IHRvZ2dsZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9nZ2xlQ29udGFpbmVyJylcbiAgY29uc3QgZGV0YWlsc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kYXknKVxuXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1bml0JywgJ2MnKVxuICB2aWV3LmN1cnJlbnREYXlEYXRlKGRhdGEuZHQsIG5hdmlnYXRvci5sYW5ndWFnZSlcbiAgdmlldy5jdXJyZW50VGltZShkYXRhLmR0LCBuYXZpZ2F0b3IubGFuZ3VhZ2UpXG4gIHZpZXcudG9kYXlXZWF0aGVyKGRhdGEubmFtZSwgZGF0YS5zeXMuY291bnRyeSwgZGF0YS5tYWluLnRlbXAsIGRhdGEud2VhdGhlclswXSlcbiAgdmlldy50b2RheURldGFpbHMoZGF0YS53aW5kLnNwZWVkLCBkYXRhLm1haW4pXG4gIHZpZXcuZGlzcGxheUVsZW1lbnQodG9nZ2xlQ29udGFpbmVyKVxuICB2aWV3LmRpc3BsYXlFbGVtZW50KGRldGFpbHNDb250YWluZXIpXG4gIGdldFdlYXRoZXJOZXh0RGF5cyhkYXRhLmNvb3JkKVxufVxuXG5leHBvcnQgeyBnZXRXZWF0aGVyLCBnZXRXZWF0aGVyTmV4dERheXMgfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==